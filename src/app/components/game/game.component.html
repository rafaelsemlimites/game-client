<div class="game-container">
  <h1>ğŸ”¥ Jogo de Reflexos ğŸ”¥</h1>

  <!-- Tela de login -->
  <div *ngIf="!playerJoined" class="login-container">
    
    <!-- Imagem representativa do jogo -->
    <img src="assets/game-banner.png" alt="Jogo de Reflexos" class="game-banner">

    <!-- Caixa com as regras do jogo -->
    <div class="game-rules">
      <h3>ğŸ“œ Regras do Jogo:</h3>
      <ul>
        <li>â³ Clique o mais rÃ¡pido possÃ­vel quando for sua vez!</li>
        <li>ğŸš€ Seu tempo acumulado serÃ¡ registrado.</li>
        <li>âŒ Se ultrapassar 30 segundos no total, vocÃª serÃ¡ eliminado.</li>
        <li>ğŸ† O Ãºltimo jogador restante vence a partida!</li>
      </ul>
    </div>

    <!-- Input de nome e botÃ£o de entrada -->
    <p>Digite seu nome e clique em "Entrar" para comeÃ§ar.</p>
    <div class="input-group">
      <input [(ngModel)]="playerName" placeholder="Digite seu nome" class="player-input" />
      <button (click)="joinGame()" class="join-button">ğŸš€ Entrar</button>
    </div>
  </div>

  <!-- Tela do jogo -->
  <div *ngIf="playerJoined">
    <p><strong>Jogador logado:</strong> {{ playerName }}</p>

    <!-- Exibir jogador atual -->
    <p *ngIf="(game$ | async)?.currentPlayer">
      <strong>Turno de:</strong> {{ (game$ | async)?.currentPlayer.name }}
    </p>    

    <!-- Exibir mensagem de espera -->
    <p *ngIf="!(game$ | async)?.gameStarted">
      â³ Aguardando mais jogadores para iniciar...
    </p>

   <!-- Lista de jogadores e tempo acumulado -->
  <div class="players-list">
    <h3>â³ Tempos Acumulados</h3>
    <div class="players-grid">
      <div *ngFor="let player of (game$ | async)?.players" class="player-card">
        <p><strong>{{ player.name }}</strong></p>
        <p class="time-display">{{ player.totalTime.toFixed(2) }}s</p>
        <span *ngIf="player.isEliminated" class="eliminated">âŒ Eliminado</span>
      </div>
    </div>
  </div>

    <!-- BotÃ£o de clique rÃ¡pido -->
    <button 
      *ngIf="(game$ | async)?.currentPlayer?.name === playerName"
      (click)="clickButton()"
      class="click-button">
      ğŸƒ Clique rÃ¡pido!
    </button>

    <!-- Exibir vencedor -->
    <p *ngIf="(game$ | async)?.winner" class="winner">
      ğŸ† <strong>{{ (game$ | async)?.winner.name }}</strong> venceu o jogo! ğŸ†
    </p>

    <!-- Container para os fogos de artifÃ­cio -->
    <div *ngIf="(game$ | async)?.winner" id="confetti-container"></div>

    <!-- BotÃ£o "Sair da Partida" enquanto o jogo estiver ativo -->
    <button *ngIf="!winner" (click)="leaveGame()" class="leave-button">
      ğŸšª Sair da Partida
    </button>


  
  <canvas id="confettiCanvas"></canvas>

</div>
